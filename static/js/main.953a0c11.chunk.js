(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(8),r=a.n(s),o=(a(14),a(1)),l=a(2),c=a(4),h=a(3),u=a(5),d=a(6),p=a.n(d),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).wrapper=n.a.createRef(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.canva=new p.a(this.props.sketch,this.wrapper.current),this.canva.customCallbackHandler=this.props.callback,this.canva.customRedrawHandler&&this.canva.customRedrawHandler(this.props.values)}},{key:"componentDidUpdate",value:function(e){this.props.sketch!==e.sketch&&(this.canva.remove(),this.canvas=new p.a(this.props.sketch,this.wrapper),this.canva.customCallbackHandler=this.props.callback),this.canva.customRedrawHandler&&this.canva.customRedrawHandler(this.props.values)}},{key:"componentWillUnmount",value:function(){this.canva.remove()}},{key:"render",value:function(){return n.a.createElement("div",{ref:this.wrapper})}}]),t}(i.Component);function S(e){var t=!1,a=20,i=0,n=.2,s=0,r=600/a,l=function e(t,a,i){var n=this;Object(o.a)(this,e),this.createNodes=function(){for(var e=0;e<n.gridSize;e++)n.grid[e]=new Array(n.gridSize);for(var t=0;t<n.gridSize;t++)for(var a=0;a<n.gridSize;a++)n.grid[t][a]=new c(t,a,n.squareSize,n.wallFrequency);n.start=n.grid[0][0],n.end=n.grid[n.gridSize-1][n.gridSize-1],n.start.wall=0,n.end.wall=0},this.displayNodes=function(){for(var e=0;e<n.gridSize;e++)for(var t=0;t<n.gridSize;t++)n.grid[e][t].showNode()},this.setNodesNeighbors=function(){for(var e=0;e<n.gridSize;e++)for(var t=0;t<n.gridSize;t++)if(!n.grid[e][t].wall)for(var a=Math.max(0,e-1);a<=Math.min(e+1,n.gridSize-1);a++)for(var i=Math.max(0,t-1);i<=Math.min(t+1,n.gridSize-1);i++)a===e&&i===t||n.grid[a][i].wall||n.grid[e][t].neighbors.push(n.grid[a][i])},this.gridSize=t,this.squareSize=a,this.wallFrequency=i,this.grid=new Array(t),this.openSet=[],this.closedSet=[],this.optimalPath=[]},c=function t(a,i,n,s){var r=this;Object(o.a)(this,t),this.showNode=function(){e.noStroke(),e.fill(255),r.wall&&e.fill(36),r.isInOpenSet&&e.fill(e.color(0,255,0,80)),r.isInClosedSet&&e.fill(e.color(255,0,0,80)),r.isOptimalPath&&e.fill(e.color(0,0,255,80)),e.rect(r.x*r.size,r.y*r.size,r.size-1,r.size-1)},this.size=n,this.x=a,this.y=i,this.wall=!1,Math.random()<s&&(this.wall=!0),this.f=0,this.g=0,this.h=0,this.neighbors=[],this.partent=void 0,this.isInOpenSet=!1,this.isInClosedSet=!1,this.isOptimalPath=!1},h=new l(a,r,n),u=function(t,a){var i=Math.sqrt(2),n=e.abs(t.x-a.x),s=e.abs(t.y-a.y);return 1*(n+s)+(i-2)*Math.min(n,s)};e.setup=function(){e.createCanvas(600,600),h.createNodes(),h.setNodesNeighbors(),h.openSet.push(h.start),h.start.isInOpenSet=!0},e.customRedrawHandler=function(e){i=e.gridSize,s=e.wallFrequency/100,t=e.isSearching},e.draw=function(){if(e.background(255),i!==a&&((h=new l(a=i,r=600/i,n)).createNodes(),h.setNodesNeighbors(),h.openSet.push(h.start),h.start.isInOpenSet=!0,e.customCallbackHandler({isDone:!1})),s!==n&&((h=new l(a,r,n=s)).createNodes(),h.setNodesNeighbors(),h.openSet.push(h.start),h.start.isInOpenSet=!0,e.customCallbackHandler({isDone:!1})),h.displayNodes(),t&&h.openSet.length>0){e.customCallbackHandler({message:"Szuka rozwi\u0105zania"});for(var o=0,c=0;c<h.openSet.length;c++)h.openSet[c].f<h.openSet[o].f&&(o=c);var d=h.openSet[o];if(h.openSet=h.openSet.filter(function(e,t){return t!==o}),d.isInOpenSet=!1,h.closedSet.push(d),d.isInClosedSet=!0,d===h.end){t=!1;var p=d;for(h.optimalPath.push(p);p.partent;)h.optimalPath.push(p.partent),p=p.partent;for(var g=0;g<h.optimalPath.length;g++)h.optimalPath[g].isOptimalPath=!0;e.customCallbackHandler({isSearching:t,isDone:!0,message:"Znaleziono rozwi\u0105zanie"})}for(var S=d.neighbors,m=0;m<S.length;m++)if(!h.closedSet.includes(S[m])){var f=d.g+u(S[m],d),z=!1;h.openSet.includes(S[m])?f<S[m].g&&(S[m].g=f,z=!0):(S[m].g=f,z=!0,h.openSet.push(S[m]),S[m].isInOpenSet=!0),z&&(S[m].h=u(S[m],h.end),S[m].f=S[m].g+S[m].h,S[m].partent=d)}}else t&&0===h.openSet.length&&(t=!1,e.customCallbackHandler({isSearching:!t,isDone:!0,message:"Brak rozwi\u0105zania"}))}}var m=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).gridSizeChange=function(e){return a.setState({gridSize:e.target.value,isSearching:!1,message:"Rozpocznij szukanie"})},a.wallFrequencyChange=function(e){return a.setState({wallFrequency:e.target.value,isSearching:!1,message:"Rozpocznij szukanie"})},a.toggleSearch=function(){a.setState({isSearching:!a.state.isSearching,message:"Rozpocznij szukanie"})},a.stateChange=function(e,t){return a.setState(e,t)},a.state={gridSize:20,wallFrequency:20,isSearching:!1,isDone:!1,message:"Rozpocznij szukanie",stateSketch:S},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Implementacja algorytmu A*"),n.a.createElement("h2",null,"Metody metaheurystyczne"),n.a.createElement(g,{sketch:this.state.stateSketch,values:{gridSize:this.state.gridSize,wallFrequency:this.state.wallFrequency,isSearching:this.state.isSearching},callback:this.stateChange}),n.a.createElement("h2",null,"Stan: ",this.state.message),n.a.createElement("p",null,"Wielko\u015b\u0107 siatki: ",this.state.gridSize," x ",this.state.gridSize),n.a.createElement("input",{type:"range",defaultValue:this.state.gridSize,min:"5",max:"100",step:"5",onInput:this.gridSizeChange}),n.a.createElement("p",null,"Cz\u0119sto\u015b\u0107 \u015bcian: ",this.state.wallFrequency,"%"),n.a.createElement("input",{type:"range",defaultValue:this.state.wallFrequency,min:"0",max:"100",step:"1",onInput:this.wallFrequencyChange}),n.a.createElement("br",null),n.a.createElement("button",{onClick:this.toggleSearch,disabled:this.state.isDone},this.state.isSearching?"ZAKO\u0143CZ":"SZUKAJ"))}}]),t}(i.Component);r.a.render(n.a.createElement(m,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(17)}},[[9,2,1]]]);
//# sourceMappingURL=main.953a0c11.chunk.js.map